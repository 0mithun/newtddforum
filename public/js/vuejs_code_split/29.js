(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{w8ZB:function(t,e,i){"use strict";i.r(e);var s={props:{thread:{type:Object}},data:function(){return{active:this.thread.isFavorited,isFavoriteThread:!1}},computed:{classes:function(){return[this.isFavoriteThread?"active-favorite":"inactive-favorite"]},endpoint:function(){return"/thread/"+this.thread.id+"/favorites"},signedIn:function(){return!!window.App.user}},created:function(){this.checkIsFavoriteThread()},methods:{toggle:function(){this.signedIn&&(this.isFavoriteThread?this.destroy():this.create()),this.redirectToLogin()},create:function(){axios.post(this.endpoint).then((function(t){})),this.isFavoriteThread=!0,flash("You are successfully favorite this thread","success")},destroy:function(){axios.delete(this.endpoint),this.isFavoriteThread=!1,flash("You are successfully un favorite this thread","success")},checkIsFavoriteThread:function(){var t=this;return this.signedIn&&axios.post("/thread/check-thread-favorite",{thread:this.thread.id,user:window.App.user.id}).then((function(e){return e.data.favorited?t.isFavoriteThread=!0:t.isFavoriteThread=!1})),this.isFavoriteThread=!1},redirectToLogin:function(){window.location="/redirect-to?page="+location.pathname}}},a=i("KHd+"),r=Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tools-single-item"},[e("button",{staticClass:"btn  thread-items-show-tools-btn",class:this.classes,on:{click:this.toggle}},[e("i",{staticClass:"fa fa-heart"})])])}),[],!1,null,null,null);e.default=r.exports}}]);