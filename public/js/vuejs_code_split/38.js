(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"9Ldw":function(t,a,n){"use strict";n.r(a);function i(t){return function(t){if(Array.isArray(t)){for(var a=0,n=new Array(t.length);a<t.length;a++)n[a]=t[a];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s={props:{tag:{type:Object,required:!0}},components:{},data:function(){return{posts:this.tag.threads,followings:[],isFollow:!1,page:1,perPage:10,paginatedItems:[],limitLinks:10,formPage:1,toPage:1,showDescription:!1}},computed:{postCounts:function(){return abbreviate(this.posts.length,1)},currentPage:function(){return this.page},totalPage:function(){return Math.ceil(this.posts.length/this.perPage)},signedIn:function(){return!!window.App.user},pageRange:function(){return _.range(this.formPage,this.toPage)}},created:function(){this.checkIsFollow(),this.getAllFollowings(),this.setCurrentPage(),this.paginate(this.perPage,this.page),this.paginateLimit()},methods:{toggleFollow:function(){var t=this;axios.post("/tag/".concat(this.tag.id,"/follow")).then((function(a){if(t.isFollow){var n=t.followings.filter((function(t){return t.id!=window.App.user.id}));t.followings=n,t.isFollow=!1}else{var s=[].concat(i(t.followings),[window.App.user]);t.followings=s,t.isFollow=!0}flash(a.data.message)}))},checkIsFollow:function(){var t=this;this.signedIn&&axios.get("/tag/".concat(this.tag.id,"/is-follow")).then((function(a){t.isFollow=a.data}))},getAllFollowings:function(){var t=this;axios.get("/tag/".concat(this.tag.id,"/followings")).then((function(a){t.followings=a.data.followings}))},setCurrentPage:function(){var t=new URLSearchParams(window.location.search).get("page");this.page=t&&""!=t?Number.parseInt(t):this.page},paginate:function(t,a){var n=(a-1)*t,i=a*t,s=this.tag.threads.slice(n,i);this.paginatedItems=s},onPageChange:function(t){this.page=t,history.pushState(null,null,"?page="+t),this.paginate(this.perPage,t),this.paginateLimit()},paginateLimit:function(){var t=Math.floor(this.limitLinks/2),a=this.page-t,n=Number.parseInt(this.page)+t;this.page<t&&(n+=t-this.page),this.totalPage-this.page<t&&(a-=t-(this.totalPage-this.page)-1),a<t&&(a=1),this.formPage=a,this.toPage=n}}},o=(n("sabr"),n("KHd+")),e=Object(o.a)(s,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"container"},[n("div",{staticClass:"top-margin row"},[n("div",{staticClass:"col-md-8"},[n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row profile-header"},[n("div",{staticClass:"profile-avatar"},[n("img",{staticClass:"profile-img",attrs:{src:t.tag.profileAvatarPath,alt:""}}),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("i",{staticClass:"fa fa-question-circle tooltip-icon",on:{click:function(a){t.showDescription=!t.showDescription}}})])]),t._v(" "),n("div",{staticClass:"profile-details"},[n("h2",{staticClass:"profile-name"},[n("span",[t._v("#"+t._s(t.tag.name.toLowerCase()))])]),t._v(" "),n("div",{staticClass:"profile-count"},[n("post-counts",{attrs:{post_count:t.posts.length}}),t._v(" "),n("following-counts",{attrs:{following_count:t.followings.length}})],1),t._v(" "),n("div",{staticClass:"profile-buttons"},[t.isFollow?n("button",{staticClass:"btn btn-sm unfollow-btn",on:{click:function(a){return a.preventDefault(),t.toggleFollow(a)}}},[t._v("\n                  Unfllow\n                ")]):n("button",{staticClass:"btn btn-sm follow-btn",on:{click:function(a){return a.preventDefault(),t.toggleFollow(a)}}},[t._v("\n                  Follow\n                ")])])])]),t._v(" "),t.showDescription?n("div",{staticClass:"row description"},[n("div",{staticClass:"col-md-12"},[t._v("\n              "+t._s(t.tag.description)+"\n              \n            ")])]):t._e(),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"post-header"},[n("div",{staticClass:"post-counts"},[t._v(t._s(t.postCounts)+" posts")])])])])])]),t._v(" "),n("div",{staticClass:"post-body"},[t._l(t.paginatedItems,(function(t,a){return n("single-thread",{key:a,attrs:{thread:t}})})),t._v(" "),t.totalPage>1?n("nav",{attrs:{"aria-label":"..."}},[n("ul",{staticClass:"pagination"},[1!=t.currentPage?n("li",{on:{click:function(a){return t.onPageChange(1)}}},[t._m(0)]):t._e(),t._v(" "),t._l(t.pageRange,(function(a){return n("li",{key:a,class:{active:t.currentPage==a},on:{click:function(n){return t.onPageChange(a)}}},[n("span",[t._v("\n                        "+t._s(a)+"\n                        "),n("span",{staticClass:"sr-only"},[t._v(t._s(a))])])])})),t._v(" "),t.currentPage!=t.totalPage?n("li",{on:{click:function(a){return t.onPageChange(t.totalPage)}}},[t._m(1)]):t._e()],2)]):t._e()],2)]),t._v(" "),n("div",{staticClass:"col-md-4 sidebar"},[t._m(2),t._v(" "),n("trending-thread")],1)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("span",[a("span",{attrs:{"aria-hidden":"true"}},[this._v("«")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",[a("span",{attrs:{"aria-hidden":"true"}},[this._v("»")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"social-follow-btn"},[a("a",{staticClass:"follow-item",attrs:{href:"https://facebook.com/Anecdotagecom-104983414515616/"}},[a("img",{staticClass:"follow-item-icon",attrs:{src:"/images/social/facebook.png",alt:""}})]),this._v(" "),a("a",{staticClass:"follow-item",attrs:{href:"https://twitter.com/anecdotage_com"}},[a("img",{staticClass:"follow-item-icon",attrs:{src:"/images/social/twitter.png",alt:""}})]),this._v(" "),a("a",{staticClass:"follow-item",attrs:{href:"https://www.instagram.com/anecdevs_ig/"}},[a("img",{staticClass:"follow-item-icon",attrs:{src:"/images/social/instagram.png",alt:""}})])]),this._v(" "),a("h3",{staticClass:"follow-on-title"},[this._v("Follow Us On")])])])}],!1,null,"78c8aad2",null);a.default=e.exports},VYsX:function(t,a,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.profile-header[data-v-78c8aad2] {\r\n  margin: 30px auto;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top:10px;\r\n  margin-bottom: 0px;\n}\n.profile-name[data-v-78c8aad2] {\r\n  padding: 0;\r\n  margin: 0;\n}\n.profile-name span[data-v-78c8aad2] {\r\n  color: rgb(255, 67, 1);\n}\n.profile-buttons[data-v-78c8aad2] {\r\n  padding: 10px 0px;\n}\n.profile-img[data-v-78c8aad2] {\r\n  width: 120px;\r\n  height: 120px;\r\n  padding: 3px;\r\n  border: 2px solid rgb(255, 67, 1);\r\n  border-radius: 50%;\r\n  display: block;\n}\n.profile-avatar[data-v-78c8aad2] {\r\n  margin-right: 30px;\n}\n.profile-count[data-v-78c8aad2] {\r\n  display: flex;\r\n  align-items: center;\n}\n.profile-count > *[data-v-78c8aad2] {\r\n  margin-left: 5px;\r\n  margin-right: 5px;\n}\n.follow-btn[data-v-78c8aad2] {\r\n  width: 100px;\r\n  background-color: rgb(255, 67, 1);\r\n  color: white;\n}\n.unfollow-btn[data-v-78c8aad2] {\r\n  width: 100px;\r\n  background-color: red;\r\n  color: white;\n}\n.single-tags-name[data-v-78c8aad2] {\r\n  color: black;\n}\n.single-tags-name span[data-v-78c8aad2] {\r\n  color: rgb(255, 67, 1);\n}\n.post-counts[data-v-78c8aad2] {\r\n  color: black;\r\n  padding: 15px 0;\r\n  font-weight: bold;\r\n  padding-bottom: 0px;\n}\n.sidebar[data-v-78c8aad2] {\r\n  /* margin: 30px auto; */\n}\n.pagination li[data-v-78c8aad2] {\r\n  cursor: pointer;\n}\n.tools-row[data-v-78c8aad2]{\r\n  margin-bottom: 20px;\n}\n.tooltip-icon[data-v-78c8aad2]{\r\n  font-size:20px;\r\n  cursor:pointer\n}\n.description[data-v-78c8aad2]{\r\n  transition: cubic-bezier(0.075, 0.82, 0.165, .3) ease-in;\r\n  overflow: hidden;\n}\r\n",""])},gtH3:function(t,a,n){var i=n("VYsX");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,s);i.locals&&(t.exports=i.locals)},sabr:function(t,a,n){"use strict";var i=n("gtH3");n.n(i).a}}]);