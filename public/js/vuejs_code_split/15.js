(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{w8ZB:function(t,e,s){"use strict";s.r(e);var i={props:{thread:{type:Object}},data:function(){return{active:this.thread.isFavorited,isFavoriteThread:!1}},computed:{classes:function(){return[this.isFavoriteThread?"red-icon":"grey-icon"]},endpoint:function(){return"/thread/"+this.thread.id+"/favorites"},signedIn:function(){return!!window.App.user}},created:function(){this.checkIsFavoriteThread()},methods:{toggle:function(){this.signedIn&&(this.isFavoriteThread?this.destroy():this.create())},create:function(){axios.post(this.endpoint).then((function(t){})),this.isFavoriteThread=!0,flash("You are successfully favorite this thread","success")},destroy:function(){axios.delete(this.endpoint),this.isFavoriteThread=!1,flash("You are successfully un favorite this thread","success")},checkIsFavoriteThread:function(){var t=this;return this.signedIn&&axios.post("/thread/check-thread-favorite",{thread:this.thread.id,user:window.App.user.id}).then((function(e){return e.data.favorited?t.isFavoriteThread=!0:t.isFavoriteThread=!1})),this.isFavoriteThread=!1}}},r=s("KHd+"),a=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-xs btn-default"},[e("span",{staticClass:"glyphicon glyphicon-heart ",class:this.classes,on:{click:this.toggle}})])}),[],!1,null,null,null);e.default=a.exports}}]);