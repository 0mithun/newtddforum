(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2vNL":function(t,e,s){"use strict";s.r(e);var n={props:["recipient"],data:function(){return{sentRequst:!1,isFriend:!1,newMessage:"",showModal:!1,showMessageButton:!1}},created:function(){this.checkFriend(),this.checkSentRequest(),this.checkPrivacy()},methods:{checkPrivacy:function(){this.isFriend?this.showMessageButton=!0:2===this.recipient.userprivacy.send_me_message?this.showMessageButton=!0:1===this.recipient.userprivacy.send_me_message&&(this.showMessageButton=!1)},sendMessage:function(){var t=this;axios.post("/chat-send-message",{message:this.newMessage,friend:this.recipient.id,friend_message:this.isFriend}).then((function(e){t.newMessage="",t.showModal=!1,$("#exampleModal").modal("hide")}))},addFriend:function(){var t=this;axios.post("/friend/sent-request",{recipient:this.recipient.id}).then((function(e){t.sentRequst=!0}))},checkFriend:function(){var t=this;axios.post("/friend/check-friend",{recipient:this.recipient.id}).then((function(e){1==e.data&&(t.isFriend=!0)}))},checkSentRequest:function(){var t=this;axios.post("/friend/check-request-sent",{recipient:this.recipient.id}).then((function(e){1==e.data&&(t.sentRequst=!0)}))},unFriend:function(){var t=this;axios.post("/friend/unfriend",{friend:this.recipient.id}).then((function(e){t.isFriend=!1,t.sentRequst=!1}))}}},i=(s("slk8"),s("KHd+")),a=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],staticClass:"form-control",attrs:{id:"message-text"},domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""==t.newMessage},on:{click:function(e){return e.preventDefault(),t.sendMessage(e)}}},[t._v("Send message")])])])])]):t._e(),t._v(" "),s("div",{staticStyle:{display:"inline","margin-right":"20px"}},[t.isFriend?s("div",[s("button",{staticClass:"btn btn-danger btn-sm pull-right",on:{click:function(e){return e.preventDefault(),t.unFriend(e)}}},[t._v("Urfiend")])]):s("div",{},[t.sentRequst?s("button",{staticClass:"btn btn-success btn-sm pull-right"},[t._v("Request Sent")]):s("button",{staticClass:"btn btn-primary btn-sm pull-right",on:{click:function(e){return e.preventDefault(),t.addFriend(e)}}},[t._v("Add Friend")])])]),t._v(" "),t.showMessageButton?s("div",{staticStyle:{display:"inline"}},[s("button",{staticClass:"btn btn-default btn-sm pull-right",staticStyle:{"margin-right":"20px"},attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(e){t.showModal=!0}}},[t._v("Message")])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("New message")])])}],!1,null,"b9d74baa",null);e.default=a.exports},EF0E:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n[v-cloak][data-v-b9d74baa]{\n        display: none;\n}\n.modal-backdrop.in[data-v-b9d74baa] {\n        display: none!important;\n}\n.modal-backdrop.in[data-v-b9d74baa] {\n    opacity: 0.5;\n    filter: alpha(opacity=50);\n    display: none;\n}\n",""])},bFLe:function(t,e,s){var n=s("EF0E");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,i);n.locals&&(t.exports=n.locals)},slk8:function(t,e,s){"use strict";var n=s("bFLe");s.n(n).a}}]);