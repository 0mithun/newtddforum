(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"SqH+":function(t,o,a){var e=a("VEZ7");"string"==typeof e&&(e=[[t.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(e,s);e.locals&&(t.exports=e.locals)},Tq5M:function(t,o,a){"use strict";a.r(o);var e={props:{thread:{type:Object}},data:function(){return{reason:"",report_type:"spam",showModal:!1,showPopup:!1,contact:""}},created:function(){},computed:{signedIn:function(){return!!window.App.user},isAdmin:function(){return window.App.user&&1==window.App.user.id},isDiabled:function(){if(""==this.reason&&""==this.report_type)return!0}},methods:{closePopup:function(){this.showModal=!1,setTimeout((function(){window.location="/"}),300)},report:function(){var t=this;this.signedIn,axios.post("/report/thread",{id:this.thread.id,reason:this.reason,report_type:this.report_type}).then((function(o){t.showModal=!1,t.showPopup=!0}))},review:function(){var t=this;this.signedIn||this.redirectToLogin(),axios.post("/report/thread/review",{id:this.thread.id,reason:this.reason,contact:this.contact,report_type:this.report_type}).then((function(o){t.showModal=!1,flash("This item review successfully.")}))},redirectToLogin:function(){window.location="/redirect-to?page="+location.pathname}}},s=(a("XwHp"),a("KHd+")),n=Object(s.a)(e,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"tools-single-item tools-single-item-align-bottoms"},[a("button",{staticClass:"btn thread-items-show-tools-btn report-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#showReportModal"},on:{click:function(o){o.preventDefault(),t.showModal=!0}}},[t._v("\n    Report\n  ")]),t._v(" "),t.showModal?a("div",{staticClass:"modal d-block fade in",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog",id:"showReportModal"}},[a("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"This item contains"}},[t._v("Reason")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.report_type,expression:"report_type"}],staticClass:"form-control",on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.report_type=o.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Please select a reason")]),t._v(" "),a("option",{attrs:{value:"copyright_material"}},[t._v("Copyright material")]),t._v(" "),a("option",{attrs:{value:"untrue_or_libelous"}},[t._v("Untrue or libelous")]),t._v(" "),a("option",{attrs:{value:"racist_or_hateful"}},[t._v("Racist or hateful")]),t._v(" "),a("option",{attrs:{value:"pornographic"}},[t._v("Pornographic")]),t._v(" "),a("option",{attrs:{value:"18"}},[t._v("Adult content (should be R-rated/18+)")]),t._v(" "),a("option",{attrs:{value:"13"}},[t._v("Mature content (should be PG-13)")]),t._v(" "),a("option",{attrs:{value:"miscategorized"}},[t._v("Miscategorized")]),t._v(" "),a("option",{attrs:{value:"not_a_story"}},[t._v("Not a story")]),t._v(" "),a("option",{attrs:{value:"Incorrect"}},[t._v("Incorrect")]),t._v(" "),a("option",{attrs:{value:"spam"}},[t._v("Spam")])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"This item contains"}},[t._v("Email & Other Contact")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],staticClass:"form-control",attrs:{name:"contact",id:"contact",rows:"2"},domProps:{value:t.contact},on:{input:function(o){o.target.composing||(t.contact=o.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"This item contains"}},[t._v("Additional Notes")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{name:"reason",id:"reason",rows:"2"},domProps:{value:t.reason},on:{input:function(o){o.target.composing||(t.reason=o.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDiabled},on:{click:function(o){return o.preventDefault(),t.report(o)}}},[t._v("\n              Report\n            ")])]),t._v(" "),t.isAdmin?a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",on:{click:function(o){return o.preventDefault(),t.review(o)}}},[t._v("\n              Review\n            ")])]):t._e()])])])]):t._e(),t._v(" "),t.showPopup?a("div",{staticClass:"modal fade in",staticStyle:{display:"block"},attrs:{id:"popupMessage",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"alert alert-success alert-dismissible fade in",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(o){return o.preventDefault(),t.closePopup(o)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("strong",[t._v("This item is under review. Thank you for reporting.")])])])])])]):t._e()])}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"modal-header"},[o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),o("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("\n           Item Report\n          ")])])}],!1,null,"4bcfb300",null);o.default=n.exports},VEZ7:function(t,o,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.tools-single-item-align-bottoms[data-v-4bcfb300] {\n  align-self: flex-end;\n}\n.report-btn[data-v-4bcfb300] {\n  background-color: transparent;\n  border: none;\n  font-size: 14px;\n  padding: 0;\n  height: auto;\n  width: auto;\n}\n#reason[data-v-4bcfb300] {\n  resize: vertical;\n}\n.alert[data-v-4bcfb300]{\n  margin-bottom: 0px;\n}\n",""])},XwHp:function(t,o,a){"use strict";var e=a("SqH+");a.n(e).a}}]);