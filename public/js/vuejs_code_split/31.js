(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{Tq5M:function(t,e,o){"use strict";o.r(e);var a={props:{thread:{type:Object}},data:function(){return{reason:"",report_type:"",showModal:!1,showPopup:!1}},created:function(){},computed:{signedIn:function(){return!!window.App.user},isAdmin:function(){return 1==window.App.user.id},isDiabled:function(){if(""==this.reason&&""==this.report_type)return!0}},methods:{closePopup:function(){this.showModal=!1,setTimeout((function(){window.location="/"}),300)},report:function(){var t=this;this.signedIn||this.redirectToLogin(),axios.post("/report/thread",{id:this.thread.id,reason:this.reason,report_type:this.report_type}).then((function(e){t.showModal=!1,t.showPopup=!0}))},review:function(){var t=this;this.signedIn||this.redirectToLogin(),axios.post("/report/thread/review",{id:this.thread.id,reason:this.reason,report_type:this.report_type}).then((function(e){t.showModal=!1,flash("This item review successfully.")}))},redirectToLogin:function(){window.location="/redirect-to?page="+location.pathname}}},s=(o("iyGg"),o("KHd+")),i=Object(s.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tools-single-item tools-single-item-align-bottoms"},[o("button",{staticClass:"btn thread-items-show-tools-btn report-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#showReportModal"},on:{click:function(e){e.preventDefault(),t.signedIn?t.showModal=!0:t.redirectToLogin()}}},[t._v("\n    Report\n  ")]),t._v(" "),t.showModal?o("div",{staticClass:"modal d-block fade in",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog",id:"showReportModal"}},[o("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"form-group"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{name:"reason",id:"reason",rows:"2"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.report_type,expression:"report_type"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.report_type=e.target.multiple?o:o[0]}}},[o("option",{attrs:{selected:""}},[t._v("This item contains")]),t._v(" "),o("option",{attrs:{value:"0"}},[t._v("PG-13")]),t._v(" "),o("option",{attrs:{value:"13"}},[t._v("Should be Pg-13")]),t._v(" "),o("option",{attrs:{value:"18"}},[t._v("R-rated (18+)")]),t._v(" "),o("option",{attrs:{value:"copyright_material"}},[t._v("Copyright material")]),t._v(" "),o("option",{attrs:{value:"untrue_or_libelous"}},[t._v("Untrue or libelous")]),t._v(" "),o("option",{attrs:{value:"racist_or_hateful"}},[t._v("Racist or hateful")]),t._v(" "),o("option",{attrs:{value:"pornographic"}},[t._v("Pornographic")]),t._v(" "),o("option",{attrs:{value:"miscategorized"}},[t._v("Miscategorized")]),t._v(" "),o("option",{attrs:{value:"not_a_story"}},[t._v("Not a story")]),t._v(" "),o("option",{attrs:{value:"Incorrect"}},[t._v("Incorrect")]),t._v(" "),o("option",{attrs:{value:"spam"}},[t._v("Spam")])])]),t._v(" "),o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDiabled},on:{click:function(e){return e.preventDefault(),t.report(e)}}},[t._v("\n              Report\n            ")])]),t._v(" "),t.isAdmin?o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.review(e)}}},[t._v("\n              Review\n            ")])]):t._e()])])])]):t._e(),t._v(" "),t.showPopup?o("div",{staticClass:"modal fade in",staticStyle:{display:"block"},attrs:{id:"popupMessage",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-body"},[o("div",{staticClass:"alert alert-success alert-dismissible fade in",attrs:{role:"alert"}},[o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.closePopup(e)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),o("strong",[t._v("This item is under review. Thank you for reporting.")])])])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("\n            Report Thread\n          ")])])}],!1,null,"92e85d5c",null);e.default=i.exports},VU1H:function(t,e,o){var a=o("taid");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,s);a.locals&&(t.exports=a.locals)},iyGg:function(t,e,o){"use strict";var a=o("VU1H");o.n(a).a},taid:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.tools-single-item-align-bottoms[data-v-92e85d5c] {\n  align-self: flex-end;\n}\n.report-btn[data-v-92e85d5c] {\n  background-color: transparent;\n  border: none;\n  font-size: 14px;\n  padding: 0;\n  height: auto;\n  width: auto;\n}\n#reason[data-v-92e85d5c] {\n  resize: vertical;\n}\n.alert[data-v-92e85d5c]{\n  margin-bottom: 0px;\n}\n",""])}}]);