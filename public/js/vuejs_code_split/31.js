(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{ElJd:function(t,a,e){var o=e("WtOa");"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(o,s);o.locals&&(t.exports=o.locals)},Tq5M:function(t,a,e){"use strict";e.r(a);var o={props:{thread:{type:Object}},data:function(){return{reason:"",report_type:"",showModal:!1,showPopup:!1,contact:""}},created:function(){},computed:{signedIn:function(){return!!window.App.user},isAdmin:function(){return 1==window.App.user.id},isDiabled:function(){if(""==this.reason&&""==this.report_type)return!0}},methods:{closePopup:function(){this.showModal=!1,setTimeout((function(){window.location="/"}),300)},report:function(){var t=this;this.signedIn||this.redirectToLogin(),axios.post("/report/thread",{id:this.thread.id,reason:this.reason,report_type:this.report_type}).then((function(a){t.showModal=!1,t.showPopup=!0}))},review:function(){var t=this;this.signedIn||this.redirectToLogin(),axios.post("/report/thread/review",{id:this.thread.id,reason:this.reason,contact:this.contact,report_type:this.report_type}).then((function(a){t.showModal=!1,flash("This item review successfully.")}))},redirectToLogin:function(){window.location="/redirect-to?page="+location.pathname}}},s=(e("YMr6"),e("KHd+")),i=Object(s.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tools-single-item tools-single-item-align-bottoms"},[e("button",{staticClass:"btn thread-items-show-tools-btn report-btn",attrs:{type:"button","data-toggle":"modal","data-target":"#showReportModal"},on:{click:function(a){a.preventDefault(),t.signedIn?t.showModal=!0:t.redirectToLogin()}}},[t._v("\n    Report\n  ")]),t._v(" "),t.showModal?e("div",{staticClass:"modal d-block fade in",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog",id:"showReportModal"}},[e("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"This item contains"}},[t._v("This item contains")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.report_type,expression:"report_type"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.report_type=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Please select a reason")]),t._v(" "),e("option",{attrs:{value:"copyright_material"}},[t._v("Copyright material")]),t._v(" "),e("option",{attrs:{value:"untrue_or_libelous"}},[t._v("Untrue or libelous")]),t._v(" "),e("option",{attrs:{value:"racist_or_hateful"}},[t._v("Racist or hateful")]),t._v(" "),e("option",{attrs:{value:"pornographic"}},[t._v("Pornographic")]),t._v(" "),e("option",{attrs:{value:"18"}},[t._v("Adult content (should be R-rated/18+)")]),t._v(" "),e("option",{attrs:{value:"13"}},[t._v("Mature content (should be PG-13)")]),t._v(" "),e("option",{attrs:{value:"miscategorized"}},[t._v("Miscategorized")]),t._v(" "),e("option",{attrs:{value:"not_a_story"}},[t._v("Not a story")]),t._v(" "),e("option",{attrs:{value:"Incorrect"}},[t._v("Incorrect")]),t._v(" "),e("option",{attrs:{value:"spam"}},[t._v("Spam")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"This item contains"}},[t._v("Email & Other Contact")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],staticClass:"form-control",attrs:{name:"contact",id:"contact",rows:"2"},domProps:{value:t.contact},on:{input:function(a){a.target.composing||(t.contact=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"This item contains"}},[t._v("Additional Notes")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{name:"reason",id:"reason",rows:"2"},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.isDiabled},on:{click:function(a){return a.preventDefault(),t.report(a)}}},[t._v("\n              Report\n            ")])]),t._v(" "),t.isAdmin?e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return a.preventDefault(),t.review(a)}}},[t._v("\n              Review\n            ")])]):t._e()])])])]):t._e(),t._v(" "),t.showPopup?e("div",{staticClass:"modal fade in",staticStyle:{display:"block"},attrs:{id:"popupMessage",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"alert alert-success alert-dismissible fade in",attrs:{role:"alert"}},[e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return a.preventDefault(),t.closePopup(a)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),e("strong",[t._v("This item is under review. Thank you for reporting.")])])])])])]):t._e()])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("\n           Item Report\n          ")])])}],!1,null,"59e3950a",null);a.default=i.exports},WtOa:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n.tools-single-item-align-bottoms[data-v-59e3950a] {\n  align-self: flex-end;\n}\n.report-btn[data-v-59e3950a] {\n  background-color: transparent;\n  border: none;\n  font-size: 14px;\n  padding: 0;\n  height: auto;\n  width: auto;\n}\n#reason[data-v-59e3950a] {\n  resize: vertical;\n}\n.alert[data-v-59e3950a]{\n  margin-bottom: 0px;\n}\n",""])},YMr6:function(t,a,e){"use strict";var o=e("ElJd");e.n(o).a}}]);